<!DOCTYPE html>
<html>
<head>
<title>Bal Lok | Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="tracking.js"></script>
<style>
body{margin:0;font-family:Comic Sans MS;background:linear-gradient(#f3e5f5,#e1f5fe);}
header{padding:15px;background:#fff;display:flex;gap:15px;align-items:center;}
.screen-time-banner{background:#fff3cd;padding:15px;text-align:center;margin:10px 20px;border-radius:10px;font-size:18px;font-weight:bold;box-shadow:0 3px 10px rgba(0,0,0,0.1);}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px;padding:25px;}
.game{background:#fff;border-radius:25px;padding:30px;text-align:center;
box-shadow:0 10px 25px #aaa;font-size:20px;cursor:pointer;transition:transform 0.3s;}
.game:hover{transform:translateY(-5px) scale(1.05);}
.game a{text-decoration:none;color:#333;}
</style>
</head>

<body>
<header>
  <button
  style="
    outline:none;
    cursor:pointer;
    border:none;
    padding:6px 16px;
    font-family:inherit;
    font-size:14px;
    position:relative;
    display:inline-block;
    letter-spacing:0.04rem;
    font-weight:700;
    border-radius:500px;
    overflow:hidden;
    background:#ffde9c;
  "
  onmouseover="this.children[1].style.transform='translateX(100%) skew(30deg)'"
  onmouseout="this.children[1].style.transform='translateX(0) skew(30deg)'"
>
  <!-- TEXT / LINK -->
  <a href="E-abhibhavak.html"
     style="
       position:relative;
       z-index:2;
       color:black;
       text-decoration:none;
       transition:color 0.3s;
     ">
     BACK
  </a>

  <!-- HOVER LAYER -->
  <span
    style="
      position:absolute;
      top:0;
      left:-10%;
      width:120%;
      height:100%;
      background:rgb(239, 111, 12);
      transform:skew(30deg);
      transition:transform 0.4s cubic-bezier(0.3,1,0.8,1);
      z-index:1;
    "
  ></span>
</button>



  <h1>Fun Games</h1>
</header>

<div class="screen-time-banner" id="screenTimeDisplay">Loading...</div>

<section class="grid">
  <div class="game" onclick="playGame('Puzzle Game', 'games', 15, 'https://sites.google.com/view/13-games/home')">
     Puzzle Game<br><small>Make your brain sharp</small>
  </div>
  
  <div class="game" onclick="playGame('Racing Game', 'games', 15, 'https://sites.google.com/view/2-3games/home')">
     Racing Game<br><small>Fast and Furious</small>
  </div>
  
  <div class="game" onclick="playGame('Maze Game', 'games', 15, 'https://sites.google.com/view/33-games/home')">
     Maze Game<br><small>Practice your aim</small>
  </div>
  
  <div class="game" onclick="playGame('Mario Game', 'games', 20, 'https://sites.google.com/view/mariobird/home')">
     Mario<br><small>Enjoy Mario as Flappy Bird</small>
  </div>
  
  <div class="game" onclick="playGame('Geometry Dash', 'games', 20, 'https://sites.google.com/view/geometerydash/home')">
     Geometry Dash<br><small>Be Precise</small>
  </div>
</section>

<script>
// Track and open game
function playGame(gameName, category, duration, url) {
    // Check if blocked
    const blockedCategories = JSON.parse(localStorage.getItem('blockedCategories') || '[]');
    if (blockedCategories.includes(category)) {
        alert(' Sorry! Games are blocked by parental controls.\n\nAsk your parents to unblock them!');
        return;
    }

    // Check time limit
    const timeLimit = parseInt(localStorage.getItem('timeLimit') || '120');
    const history = JSON.parse(localStorage.getItem('watchHistory') || '[]');
    const today = new Date().toDateString();
    const todayVideos = history.filter(v => new Date(v.timestamp).toDateString() === today);
    const todayTime = todayVideos.reduce((sum, v) => sum + (v.duration || 0), 0);
    
    if (todayTime >= timeLimit) {
        alert(' Screen time limit reached!\n\nYou\'ve used ' + todayTime + ' minutes today.\nLimit: ' + timeLimit + ' minutes.\n\nCome back tomorrow! ðŸ˜Š');
        return;
    }

    // Track it
    history.push({
        title: gameName,
        category: category,
        duration: duration,
        timestamp: new Date().toLocaleString()
    });
    localStorage.setItem('watchHistory', JSON.stringify(history));

    // Open game
    window.open(url, '_blank');

    // Update screen time
    updateScreenTime();
}
</script>

</body>
</html>